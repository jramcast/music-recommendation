# Predicting Audio Features with Last.fm Tags

In this paper, we discuss a number of experiments to analyze the suitability of music label representations to predict certain audio features, such as danceability, loudness, or acousticness.

# Last.fm Tags

Last.fm is a online music service for users to keep track of their music habits.
Last.fm is also a community where users can tag artists, albums, and tracks.

For nearly two decades, users have been contributing to categorizing or just tagging tracks with text labels.
These tags do not necessarily have to be single-worded.
Users often use short sentences to define a song, such as `I like this track`, or `on the beach`

...

## Spotify Audio Features

Originally called Echo Nest audio features, these features are a set of descriptors that define a music audio signal with continuous values.
After the adquisition of Echo Nest by Spotify, Spotify integrated these features into their API.
...


## Single-user data gathering

Explain the process to download and prepare the Last.fm and Spotify data from a single user.

### Last.fm Tags Format

The format of a particular tag applied to a track is as follows:

`tag, weight`

Where `tag` is the text and weight is the relevancy of the tag for a particular song, compared to other tags applied to the same song.
For example:

`rock, 95`

### Data Representations for Training

Explain how the data has been prepared for training with different representations:

- Weight is represented as the tag concatenated by number: `summer 3`
- Weight is represented as the tag repeated according to the weight: `summer summer summer`


#### Training By Track

When generating training data by track, the tabular formats present sparsity problems.

The format is as follows:

```
{
    "artist - name": { 
        "eletronica": 100,
        "rock": 80,
        "pop": 45,
        "jazz": 0,
        "nu-jazz": 0,
        "country": 0,
        "soul": 0,
    }
}
```

For tabular representations, we need to defined a fixed set of columns as tags.
For most of tracks, most columns are `0`.

The sparsity of a matrix is the number of zero-valued elements divided by the total number of elements (e.g., m × n for an m × n matrix) is called the sparsity of the matrix 
// TODO: compare sparsity values between by-moment data and by-track data



## Models

Regression models included in the experiment:

- XGBoost
- Naive Bayes Regressor
- Transformer (BERT) for regression

Describe how the different data representation have been tested with different models

## Results